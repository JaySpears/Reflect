"use strict";!function(t){t(document).ready(function(){function i(){t(".pagination-wrapper").remove(),t("#loader").show(),t(".products").hide(),t.ajax({url:"/api/"+e.val(),method:"GET",success:function(i){t("#loader").hide(),t(".products").show();var e=i,a="";t(".products").empty();for(var o=0;o<e.products.length;o++){a+=void 0!=s?'<div class="col-md-4"><div class="image-wrapper"><div class="vertically-align"><img src="'+e.products[o].image.sizes.Best.url+'" alt="Product Image" /></div></div><p class="product-name">'+e.products[o].name+"</p><p><i>"+e.products[o].priceLabel+'</i> | <a class="buy-link" target="_blank" href="'+e.products[o].pageUrl+'"><b>Buy Now!</b></a></p><p><a href="#" class="wishlist">Add to Wishlist!</a></p></div>':'<div class="col-md-4"><div class="image-wrapper"><div class="vertically-align"><img src="'+e.products[o].image.sizes.Best.url+'" alt="Product Image" /></div></div><p class="product-name">'+e.products[o].name+"</p><p><i>"+e.products[o].priceLabel+'</i> | <a class="buy-link" target="_blank" href="'+e.products[o].pageUrl+'">Buy Now!</a></p></div>'}t(".products").html(a);for(var r=t(".products > div"),o=0;o<r.length;o+=3)r.slice(o,o+3).wrapAll("<div class='row'></div>");t(".vertically-align > img").loupe(),t(".products").easyPaginate({paginateElement:t(".products > div"),elementsPerPage:3,effect:"default"}),t(".easyPaginateNav").wrap('<div class="pagination-wrapper"></div>'),t(".easyPaginateNav a").on("click",function(t){t.preventDefault()}),t(".pagination-wrapper").insertBefore("footer")},error:function(i){t("#loader").hide(),console.log(i.statusText)}}).then(function(){t(".vertically-align > img").loupe();var i=t(".wishlist");i.on("click",function(i){console.log("clicked"),i.preventDefault();var e=t(this).parent().parent(),a={wishListImage:e.find("img").attr("src"),wishListProduct:e.find(".product-name").html(),wishListProductPrice:e.find("i").html(),wishListProductUrl:e.find(".buy-link").attr("href")};console.log(a),t.ajax({url:"/api/add-wishlist",method:"POST",data:a,success:function(t){console.log("Product pushed to Wishlist table.")}})})})}var e=(t(window).width(),t('input[name="keyword"]')),a=t('button[name="keyword"]'),s=Cookies.get("Current_Facebook_User");if(t(window).on("load",function(t){"#_=_"==window.location.hash&&(window.location.hash="",history.pushState("",document.title,window.location.pathname),t.preventDefault())}),e.typed({strings:["Snapbacks"],typeSpeed:20}),e.keypress(function(t){13==t.which&&i()}),a.on("click",function(){i()}),t(".close-modal").on("click",function(){t(".wishlist-wrapper").hide(),t("body").removeClass("wishlist-open")}),t(".products").easyPaginate({paginateElement:t(".products > div"),elementsPerPage:3,effect:"default"}),t(".easyPaginateNav").wrap('<div class="pagination-wrapper"></div>'),t(".easyPaginateNav a").on("click",function(i){if(console.log("yes"),i.preventDefault(),t(window).width()<=767&&(console.log("true"),t("body, html").animate({scrollTop:t("body").offset().top-10},700)),void 0!=s){var e=t(".wishlist");e.html("Add to Wishlist!"),e.on("click",function(i){i.preventDefault();var e=t(this).parent().parent(),a={wishListImage:e.find("img").attr("src"),wishListProduct:e.find(".product-name").html(),wishListProductPrice:e.find("i").html(),wishListProductUrl:e.find(".buy-link").attr("href")};t.ajax({url:"/api/add-wishlist",method:"POST",data:a,success:function(t){console.log("Product pushed to Wishlist table.")}})})}}),t(".pagination-wrapper").insertBefore("footer"),t(".vertically-align > img").loupe(),void 0!=s){var o=s.split(" "),r=t(".wishlist"),l=t(".login-nav a");t(".login-nav").addClass("fb"),l.html("What's up "+o[0]+'! <a href="#">Click here to check out your Wishlist!').attr("href","#"),r.html("Add to Wishlist!"),r.on("click",function(i){i.preventDefault();var e=t(this).parent().parent(),a={wishListImage:e.find("img").attr("src"),wishListProduct:e.find(".product-name").html(),wishListProductPrice:e.find("i").html(),wishListProductUrl:e.find(".buy-link").attr("href")};t.ajax({url:"/api/add-wishlist",method:"POST",data:a,success:function(t){console.log("Product pushed to Wishlist table.")}})}),l.on("click",function(){t.ajax({url:"/api/wishlist/get-wishlist",method:"GET",success:function(i){console.log(i);var e="";if(0!=i.length){t(".no-items").hide();for(var a=0;a<i.length;a++)e+='<div class="col-md-12" data-id="'+i[a].id+'"><div class="col-md-4"><img style="max-width: 100px" src="'+i[a].product_image_src+'"></div><div class="col-md-8"><p>'+i[a].product_title+"</p><p><i>"+i[a].product_price+'</i> | <a target="_blank" href="'+i[a].product_url+'"> <b>Buy Now</b></a></p><p class="remove-wishlist-item">Remove</p></div></div>'}else t(".no-items").show();t(".wishlist-wrapper").show(),t("body").addClass("wishlist-open"),t(".wishlist-modal .products-wrapper").html(""),t(".wishlist-modal .products-wrapper").append(e)}}).then(function(){var i=t(".remove-wishlist-item");i.on("click",function(){var i=t(this).parent().parent(),e=t(this).parent().parent().data("id");i.remove(),0==t(".wishlist-modal .products-wrapper div").length&&t(".no-items").show(),t.ajax({url:"/api/remove/wishlist/product",method:"POST",data:{pid:e},success:function(t){console.log("Product removed from Wishlist table.")},error:function(t){console.log(t)}})})})})}})}(jQuery);